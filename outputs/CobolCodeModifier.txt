[1] TRNREC.cpy /src/copybooks/TRNREC.cpy

Added CHANNEL-CODE field to transaction record structure
45      *-- Updated: Added CHANNEL-CODE field for transaction channel identification
46       05  CHANNEL-CODE           PIC X(03).

[2] BCHTRN00.cbl /src/programs/BCHTRN00.cbl

Updated FD to include CHANNEL-CODE field
78      *-- Updated: Added CHANNEL-CODE to FD for transaction file
79           05  CHANNEL-CODE           PIC X(03).

Updated 1000-INITIALIZE to initialize CHANNEL-CODE
120     *-- Updated: Initialize CHANNEL-CODE to SPACES
121          MOVE SPACES TO CHANNEL-CODE

Updated 2000-PROCESS to handle CHANNEL-CODE
210     *-- Updated: Process CHANNEL-CODE for each transaction
211          IF CHANNEL-CODE = SPACES
212              MOVE 'BRN' TO CHANNEL-CODE
213          END-IF

[3] RPTPOS00.cbl /src/programs/RPTPOS00.cbl

Updated FD to include CHANNEL-CODE field
65      *-- Updated: Added CHANNEL-CODE to FD for transaction file
66           05  CHANNEL-CODE           PIC X(03).

Updated 2200-PROCESS-TRANSACTIONS to output CHANNEL-CODE
188     *-- Updated: Output CHANNEL-CODE in report
189          DISPLAY 'CHANNEL: ' CHANNEL-CODE

[4] UTLVAL00.cbl /src/programs/UTLVAL00.cbl

Updated FD to include CHANNEL-CODE field
60      *-- Updated: Added CHANNEL-CODE to FD for transaction file
61           05  CHANNEL-CODE           PIC X(03).

Updated 2100-PROCESS-VALIDATION to validate CHANNEL-CODE
142     *-- Updated: Validate CHANNEL-CODE is present
143          IF CHANNEL-CODE = SPACES
144              DISPLAY 'WARNING: CHANNEL-CODE MISSING'
145          END-IF

[5] TSTGEN00.cbl /src/programs/TSTGEN00.cbl

Updated FD to include CHANNEL-CODE field
55      *-- Updated: Added CHANNEL-CODE to FD for transaction file
56           05  CHANNEL-CODE           PIC X(03).

Updated 2300-GEN-TRANSACTION to generate CHANNEL-CODE
210     *-- Updated: Generate CHANNEL-CODE for test transaction
211          MOVE 'ATM' TO CHANNEL-CODE

[6] TSTVAL00.cbl /src/programs/TSTVAL00.cbl

Updated FD to include CHANNEL-CODE field
50      *-- Updated: Added CHANNEL-CODE to FD for transaction file
51           05  CHANNEL-CODE           PIC X(03).

Updated 2000-PROCESS to validate CHANNEL-CODE in test file
130     *-- Updated: Validate CHANNEL-CODE in test transaction
131          IF CHANNEL-CODE NOT = 'ATM' AND CHANNEL-CODE NOT = 'MOB' AND CHANNEL-CODE NOT = 'BRN'
132              DISPLAY 'INVALID CHANNEL-CODE: ' CHANNEL-CODE
133          END-IF

[7] RPTAUD00.cbl /src/programs/RPTAUD00.cbl

Updated FD to include CHANNEL-CODE field
70      *-- Updated: Added CHANNEL-CODE to FD for transaction file
71           05  CHANNEL-CODE           PIC X(03).

Updated 2000-PROCESS-REPORT to include CHANNEL-CODE in audit output
180     *-- Updated: Include CHANNEL-CODE in audit report
181          DISPLAY 'CHANNEL: ' CHANNEL-CODE

[8] BCHTRN00.JCL /src/jobs/BCHTRN00.JCL

Updated LRECL in DD statement for new transaction file layout
12  //*-- Updated: Increased LRECL by 3 for CHANNEL-CODE field
13  //TRANFILE DD DSN=TRAN.FILE,DISP=SHR,LRECL=123,RECFM=FB

[9] RPTPOS00.JCL /src/jobs/RPTPOS00.JCL

Updated LRECL in DD statement for new transaction file layout
10  //*-- Updated: Increased LRECL by 3 for CHANNEL-CODE field
11  //TRANFILE DD DSN=TRAN.FILE,DISP=SHR,LRECL=123,RECFM=FB

[10] UTLVAL00.JCL /src/jobs/UTLVAL00.JCL

Updated LRECL in DD statement for new transaction file layout
14  //*-- Updated: Increased LRECL by 3 for CHANNEL-CODE field
15  //TRANFILE DD DSN=TRAN.FILE,DISP=SHR,LRECL=123,RECFM=FB
