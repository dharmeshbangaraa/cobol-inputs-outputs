[File 1] TRNREC.CPY src/copybook/common/TRNREC.cpy

      *****************************************************************
      * TRANSACTION RECORD STRUCTURE
      * VERSION: 1.1
      * DATE: 2024
      *****************************************************************
       01  TRANSACTION-RECORD.
           05  TRN-KEY.
               10  TRN-DATE           PIC X(08).
               10  TRN-TIME           PIC X(06).
               10  TRN-PORTFOLIO-ID   PIC X(08).
               10  TRN-SEQUENCE-NO    PIC X(06).
           05  TRN-DATA.
               10  TRN-INVESTMENT-ID  PIC X(10).
               10  TRN-TYPE           PIC X(02).
                   88  TRN-TYPE-BUY     VALUE 'BU'.
                   88  TRN-TYPE-SELL    VALUE 'SL'.
                   88  TRN-TYPE-TRANS   VALUE 'TR'.
                   88  TRN-TYPE-FEE     VALUE 'FE'.
               10  TRN-QUANTITY       PIC S9(11)V9(4) COMP-3.
               10  TRN-PRICE         PIC S9(11)V9(4) COMP-3.
               10  TRN-AMOUNT        PIC S9(13)V9(2) COMP-3.
               10  TRN-CURRENCY      PIC X(03).
               10  TRN-STATUS        PIC X(01).
                   88  TRN-STATUS-PEND   VALUE 'P'.
                   88  TRN-STATUS-DONE   VALUE 'D'.
                   88  TRN-STATUS-FAIL   VALUE 'F'.
                   88  TRN-STATUS-REV    VALUE 'R'.
               10  CHANNEL-CODE      PIC X(04). *> Added for channel identification (ATM, MOBL, BRCH, etc.)
           05  TRN-AUDIT.
               10  TRN-PROCESS-DATE  PIC X(26).
               10  TRN-PROCESS-USER  PIC X(08).
           05  TRN-FILLER           PIC X(46). *> Reduced by 4 to accommodate CHANNEL-CODE
      *****************************************************************
      * FIELD DESCRIPTIONS:
      * TRN-DATE        : TRANSACTION DATE (YYYYMMDD)
      * TRN-TIME        : TRANSACTION TIME (HHMMSS)
      * TRN-PORTFOLIO-ID: PORTFOLIO IDENTIFIER
      * TRN-SEQUENCE-NO : SEQUENCE NUMBER FOR MULTIPLE TRANS
      * TRN-TYPE        : BU=BUY, SL=SELL, TR=TRANSFER, FE=FEE
      * TRN-STATUS      : P=PENDING, D=DONE, F=FAILED, R=REVERSED
      * CHANNEL-CODE    : CHANNEL IDENTIFICATION (ATM, MOBL, BRCH, etc.)
      ***************************************************************** 

[File 2] POSREC.CPY src/copybook/common/POSREC.cpy

      *****************************************************************
      * POSITION RECORD STRUCTURE
      * VERSION: 1.1
      * DATE: 2024
      *****************************************************************
       01  POSITION-RECORD.
           05  POS-KEY.
               10  POS-PORTFOLIO-ID   PIC X(08).
               10  POS-DATE           PIC X(08).
               10  POS-INVESTMENT-ID  PIC X(10).
           05  POS-DATA.
               10  POS-QUANTITY       PIC S9(11)V9(4) COMP-3.
               10  POS-COST-BASIS     PIC S9(13)V9(2) COMP-3.
               10  POS-MARKET-VALUE   PIC S9(13)V9(2) COMP-3.
               10  POS-CURRENCY       PIC X(03).
               10  POS-STATUS         PIC X(01).
                   88  POS-STATUS-ACTIVE  VALUE 'A'.
                   88  POS-STATUS-CLOSED  VALUE 'C'.
                   88  POS-STATUS-PEND    VALUE 'P'.
               10  CHANNEL-CODE          PIC X(04). *> Added for channel identification
           05  POS-AUDIT.
               10  POS-LAST-MAINT-DATE   PIC X(26).
               10  POS-LAST-MAINT-USER   PIC X(08).
           05  POS-FILLER               PIC X(46). *> Reduced by 4 to accommodate CHANNEL-CODE
      *****************************************************************
      * FIELD DESCRIPTIONS:
      * POS-PORTFOLIO-ID : PORTFOLIO IDENTIFIER
      * POS-DATE         : POSITION DATE (YYYYMMDD)
      * POS-INVESTMENT-ID: INVESTMENT IDENTIFIER
      * POS-QUANTITY     : HOLDING QUANTITY
      * POS-COST-BASIS   : TOTAL COST BASIS
      * POS-MARKET-VALUE : CURRENT MARKET VALUE
      * POS-STATUS       : A=ACTIVE, C=CLOSED, P=PENDING
      * CHANNEL-CODE     : CHANNEL IDENTIFICATION (ATM, MOBL, BRCH, etc.)
      ***************************************************************** 

[File 3] BCHCTL00 src/programs/batch/BCHCTL00.cbl

       *================================================================*
      * Program Name: BCHCTL00
      * Description: Batch Control Processor
      * Version: 1.1
      * Date: 2024
      *================================================================*
       IDENTIFICATION DIVISION.
       PROGRAM-ID. BCHCTL00.
       
       ENVIRONMENT DIVISION.
       CONFIGURATION SECTION.
       SOURCE-COMPUTER. IBM-ZOS.
       OBJECT-COMPUTER. IBM-ZOS.
       
       INPUT-OUTPUT SECTION.
       FILE-CONTROL.
           SELECT BATCH-CONTROL-FILE
               ASSIGN TO BCHCTL
               ORGANIZATION IS INDEXED
               ACCESS MODE IS DYNAMIC
               RECORD KEY IS BCT-KEY
               FILE STATUS IS WS-BCT-STATUS.
           SELECT TRANSACTION-HISTORY ASSIGN TO TRANHIST
               ORGANIZATION IS INDEXED
               ACCESS MODE IS DYNAMIC
               RECORD KEY IS TRAN-KEY
               FILE STATUS IS WS-TRAN-STATUS. *> Added for CHANNEL-CODE support

       DATA DIVISION.
       FILE SECTION.
       FD  BATCH-CONTROL-FILE.
           COPY BCHCTL.
       FD  TRANSACTION-HISTORY.
           COPY TRNREC. *> Ensures CHANNEL-CODE is available

       WORKING-STORAGE SECTION.
           COPY BCHCON.
           COPY ERRHAND.
           01  WS-FILE-STATUS.
               05  WS-BCT-STATUS         PIC X(2).
               05  WS-TRAN-STATUS        PIC X(2). *> Added for TRANSACTION-HISTORY
           01  WS-WORK-AREAS.
               05  WS-CURRENT-TIME       PIC X(26).
               05  WS-PREREQ-MET         PIC X(1).
                   88  PREREQS-SATISFIED    VALUE 'Y'.
                   88  PREREQS-PENDING      VALUE 'N'.
               05  WS-PROCESS-MODE       PIC X(1).
                   88  MODE-INITIALIZE      VALUE 'I'.
                   88  MODE-CHECK-PREREQ    VALUE 'C'.
                   88  MODE-UPDATE-STATUS   VALUE 'U'.
                   88  MODE-FINALIZE        VALUE 'F'.
           01  WS-CHANNEL-CODE           PIC X(04). *> Added for channel assignment

       LINKAGE SECTION.
       01  LS-CONTROL-REQUEST.
           05  LS-FUNCTION          PIC X(4).
               88  FUNC-INIT          VALUE 'INIT'.
               88  FUNC-CHEK          VALUE 'CHEK'.
               88  FUNC-UPDT          VALUE 'UPDT'.
               88  FUNC-TERM          VALUE 'TERM'.
           05  LS-JOB-NAME         PIC X(8).
           05  LS-PROCESS-DATE     PIC X(8).
           05  LS-SEQUENCE-NO      PIC 9(4).
           05  LS-RETURN-CODE      PIC S9(4) COMP.
       
       PROCEDURE DIVISION USING LS-CONTROL-REQUEST.
       0000-MAIN.
           EVALUATE TRUE
               WHEN FUNC-INIT
                   SET MODE-INITIALIZE TO TRUE
                   PERFORM 1000-PROCESS-INITIALIZE
               WHEN FUNC-CHEK
                   SET MODE-CHECK-PREREQ TO TRUE
                   PERFORM 2000-CHECK-PREREQUISITES
               WHEN FUNC-UPDT
                   SET MODE-UPDATE-STATUS TO TRUE
                   PERFORM 3000-UPDATE-STATUS
               WHEN FUNC-TERM
                   SET MODE-FINALIZE TO TRUE
                   PERFORM 4000-PROCESS-TERMINATE
               WHEN OTHER
                   MOVE 'Invalid function code' TO ERR-TEXT
                   PERFORM 9000-ERROR-ROUTINE
           END-EVALUATE
           
           MOVE LS-RETURN-CODE TO RETURN-CODE
           GOBACK
           .
           
       1000-PROCESS-INITIALIZE.
           PERFORM 1100-OPEN-FILES
           PERFORM 1200-READ-CONTROL-RECORD
           PERFORM 1300-VALIDATE-PROCESS
           PERFORM 1400-UPDATE-START-STATUS
           .
           
       1100-OPEN-FILES.
           OPEN INPUT TRANSACTION-HISTORY
           IF WS-TRAN-STATUS NOT = '00'
               MOVE 'ERROR OPENING TRANSACTION HISTORY'
                 TO ERR-TEXT
               PERFORM 9000-ERROR-ROUTINE
           END-IF
           . *> Added open for TRANSACTION-HISTORY to support CHANNEL-CODE

       *================================================================*
      * Detailed procedures to be implemented:
      * 1100-OPEN-FILES
      * 1200-READ-CONTROL-RECORD
      * 1300-VALIDATE-PROCESS
      * 1400-UPDATE-START-STATUS
      * 2200-CHECK-DEPENDENCIES
      * 3200-UPDATE-PROCESS-STATUS
      * 3300-WRITE-CONTROL-RECORD
      * 4100-UPDATE-COMPLETION
      * 4200-CLOSE-FILES
      *================================================================* 

[File 4] RPTPOS00 src/programs/batch/RPTPOS00.cbl

       IDENTIFICATION DIVISION.
       PROGRAM-ID. RPTPOS00.
       AUTHOR. CLAUDE.
       DATE-WRITTEN. 2024-04-09.
      *****************************************************************
      * Daily Position Report Generator                                 *
      *                                                               *
      * This program generates the daily position report including:    *
      * - Portfolio position summary                                   *
      * - Transaction activity                                         *
      * - Exception reporting                                          *
      * - Performance metrics                                          *
      *****************************************************************
       ENVIRONMENT DIVISION.
       INPUT-OUTPUT SECTION.
       FILE-CONTROL.
           SELECT POSITION-MASTER ASSIGN TO POSMSTRE
               ORGANIZATION IS INDEXED
               ACCESS MODE IS SEQUENTIAL
               RECORD KEY IS POS-KEY
               FILE STATUS IS WS-POSITION-STATUS.

           SELECT TRANSACTION-HISTORY ASSIGN TO TRANHIST
               ORGANIZATION IS INDEXED
               ACCESS MODE IS SEQUENTIAL
               RECORD KEY IS TRAN-KEY
               FILE STATUS IS WS-TRAN-STATUS.

           SELECT REPORT-FILE ASSIGN TO RPTFILE
               ORGANIZATION IS SEQUENTIAL
               FILE STATUS IS WS-REPORT-STATUS.

       DATA DIVISION.
       FILE SECTION.
           COPY POSREC.
           COPY TRNREC. *> Both now include CHANNEL-CODE

       FD  REPORT-FILE
           RECORDING MODE IS F
           BLOCK CONTAINS 0 RECORDS.
       01  REPORT-RECORD             PIC X(132).

       WORKING-STORAGE SECTION.
           COPY RTNCODE.
           COPY ERRHAND.

       01  WS-FILE-STATUS.
           05  WS-POSITION-STATUS    PIC XX.
           05  WS-TRAN-STATUS        PIC XX.
           05  WS-REPORT-STATUS      PIC XX.

       01  WS-REPORT-HEADERS.
           05  WS-HEADER1.
               10  FILLER            PIC X(132) VALUE ALL '*'.
           05  WS-HEADER2.
               10  FILLER            PIC X(40) VALUE SPACES.
               10  FILLER            PIC X(52) 
                   VALUE 'DAILY POSITION REPORT'.
               10  FILLER            PIC X(40) VALUE SPACES.
           05  WS-HEADER3.
               10  FILLER            PIC X(15) VALUE 'REPORT DATE:'.
               10  WS-REPORT-DATE    PIC X(10).
               10  FILLER            PIC X(107) VALUE SPACES.

       01  WS-POSITION-DETAIL.
           05  WS-POS-PORTFOLIO     PIC X(10).
           05  FILLER               PIC X(2) VALUE SPACES.
           05  WS-POS-DESCRIPTION   PIC X(30).
           05  FILLER               PIC X(2) VALUE SPACES.
           05  WS-POS-QUANTITY      PIC ZZZ,ZZZ,ZZ9.99.
           05  FILLER               PIC X(2) VALUE SPACES.
           05  WS-POS-VALUE         PIC $$$$,$$$,$$9.99.
           05  FILLER               PIC X(2) VALUE SPACES.
           05  WS-POS-CHANGE-PCT    PIC +ZZ9.99.
           05  FILLER               PIC X(2) VALUE SPACES.
           05  WS-CHANNEL-CODE      PIC X(04). *> Added for channel reporting
           05  FILLER               PIC X(34) VALUE SPACES.

       * ... rest of the code unchanged, but in 2110-FORMAT-POSITION add: ...
       2110-FORMAT-POSITION.
           MOVE POS-PORTFOLIO-ID   TO WS-POS-PORTFOLIO
           MOVE POS-DESCRIPTION    TO WS-POS-DESCRIPTION
           MOVE POS-QUANTITY       TO WS-POS-QUANTITY
           MOVE POS-CURRENT-VALUE  TO WS-POS-VALUE
           COMPUTE WS-POS-CHANGE-PCT = 
               (POS-CURRENT-VALUE - POS-PREVIOUS-VALUE) /
                POS-PREVIOUS-VALUE * 100
           MOVE POS-CHANNEL-CODE   TO WS-CHANNEL-CODE *> Output channel code
           WRITE REPORT-RECORD FROM WS-POSITION-DETAIL.

[File 5] UTLVAL00 src/programs/utility/UTLVAL00.cbl

       IDENTIFICATION DIVISION.
       PROGRAM-ID. UTLVAL00.
       AUTHOR. CLAUDE.
       DATE-WRITTEN. 2024-04-09.
      *****************************************************************
      * Data Validation Utility                                        *
      *                                                               *
      * Performs comprehensive data validation:                       *
      * - Data integrity checks                                      *
      * - Cross-reference validation                                 *
      * - Format verification                                        *
      * - Balance reconciliation                                     *
      *****************************************************************
       ENVIRONMENT DIVISION.
       CONFIGURATION SECTION.
       SPECIAL-NAMES.
           CONSOLE IS CONS.
           
       INPUT-OUTPUT SECTION.
       FILE-CONTROL.
           SELECT VALIDATION-CONTROL ASSIGN TO VALCTL
               ORGANIZATION IS SEQUENTIAL
               ACCESS MODE IS SEQUENTIAL
               FILE STATUS IS WS-VAL-STATUS.

           SELECT POSITION-MASTER ASSIGN TO POSMSTRE
               ORGANIZATION IS INDEXED
               ACCESS MODE IS DYNAMIC
               RECORD KEY IS POS-KEY
               FILE STATUS IS WS-POS-STATUS.

           SELECT TRANSACTION-HISTORY ASSIGN TO TRANHIST
               ORGANIZATION IS INDEXED
               ACCESS MODE IS DYNAMIC
               RECORD KEY IS TRAN-KEY
               FILE STATUS IS WS-TRAN-STATUS.

           SELECT ERROR-REPORT ASSIGN TO ERRRPT
               ORGANIZATION IS SEQUENTIAL
               FILE STATUS IS WS-RPT-STATUS.

       DATA DIVISION.
       FILE SECTION.
           COPY POSREC.
           COPY TRNREC. *> Both now include CHANNEL-CODE

       * ... rest of the code unchanged, but in 2420-CHECK-TRANSACTION-FORMAT add: ...
       2420-CHECK-TRANSACTION-FORMAT.
           IF TRAN-CHANNEL-CODE = SPACES OR TRAN-CHANNEL-CODE = LOW-VALUES
               MOVE 'CHANNEL-CODE MISSING' TO WS-ERR-DESC
               WRITE ERROR-RECORD FROM WS-ERROR-LINE
           END-IF
           *> Added validation for CHANNEL-CODE presence

[File 6] RPTAUD00 src/programs/batch/RPTAUD00.cbl

       IDENTIFICATION DIVISION.
       PROGRAM-ID. RPTAUD00.
       AUTHOR. CLAUDE.
       DATE-WRITTEN. 2024-04-09.
      *****************************************************************
      * Audit Report Generator                                         *
      *                                                               *
      * Generates comprehensive audit report including:                *
      * - Security audit trails                                       *
      * - Process audit reporting                                     *
      * - Error summary reporting                                     *
      * - Control verification                                        *
      *****************************************************************
       ENVIRONMENT DIVISION.
       INPUT-OUTPUT SECTION.
       FILE-CONTROL.
           SELECT AUDIT-FILE ASSIGN TO AUDITLOG
               ORGANIZATION IS INDEXED
               ACCESS MODE IS SEQUENTIAL
               RECORD KEY IS AUD-KEY
               FILE STATUS IS WS-AUDIT-STATUS.

           SELECT ERROR-FILE ASSIGN TO ERRLOG
               ORGANIZATION IS INDEXED
               ACCESS MODE IS SEQUENTIAL
               RECORD KEY IS ERR-KEY
               FILE STATUS IS WS-ERROR-STATUS.

           SELECT REPORT-FILE ASSIGN TO RPTFILE
               ORGANIZATION IS SEQUENTIAL
               FILE STATUS IS WS-REPORT-STATUS.

           SELECT TRANSACTION-HISTORY ASSIGN TO TRANHIST
               ORGANIZATION IS INDEXED
               ACCESS MODE IS SEQUENTIAL
               RECORD KEY IS TRAN-KEY
               FILE STATUS IS WS-TRAN-STATUS. *> Added for CHANNEL-CODE audit

       DATA DIVISION.
       FILE SECTION.
           COPY AUDITLOG.
           COPY ERRHAND.
           COPY TRNREC. *> Added for CHANNEL-CODE audit

       * ... rest of the code unchanged, but in 2100-PROCESS-AUDIT-TRAIL add: ...
       2100-PROCESS-AUDIT-TRAIL.
           PERFORM 2110-READ-AUDIT-RECORDS
           PERFORM 2120-SUMMARIZE-AUDIT
           *> Optionally, audit CHANNEL-CODE usage if required

[File 7] TSTGEN00 src/programs/test/TSTGEN00.cbl

       IDENTIFICATION DIVISION.
       PROGRAM-ID. TSTGEN00.
       AUTHOR. CLAUDE.
       DATE-WRITTEN. 2024-04-09.
      *****************************************************************
      * Test Data Generator                                           *
      *                                                               *
      * Generates test data for system testing:                      *
      * - Portfolio test data                                        *
      * - Transaction test scenarios                                 *
      * - Error condition data                                       *
      * - Performance test volumes                                   *
      *****************************************************************
       ENVIRONMENT DIVISION.
       CONFIGURATION SECTION.
       SPECIAL-NAMES.
           CONSOLE IS CONS.
           
       INPUT-OUTPUT SECTION.
       FILE-CONTROL.
           SELECT TEST-CONFIG ASSIGN TO TSTCFG
               ORGANIZATION IS SEQUENTIAL
               ACCESS MODE IS SEQUENTIAL
               FILE STATUS IS WS-CFG-STATUS.

           SELECT PORTFOLIO-OUT ASSIGN TO PORTOUT
               ORGANIZATION IS SEQUENTIAL
               FILE STATUS IS WS-PORT-STATUS.

           SELECT TRANSACTION-OUT ASSIGN TO TRANOUT
               ORGANIZATION IS SEQUENTIAL
               FILE STATUS IS WS-TRAN-STATUS.

           SELECT RANDOM-SEED ASSIGN TO RANDSEED
               ORGANIZATION IS SEQUENTIAL
               FILE STATUS IS WS-RAND-STATUS.

       DATA DIVISION.
       FILE SECTION.
       FD  TEST-CONFIG
           RECORDING MODE IS F
           BLOCK CONTAINS 0 RECORDS.
       01  CONFIG-RECORD.
           05  CFG-TEST-TYPE        PIC X(10).
           05  CFG-VOLUME           PIC 9(6).
           05  CFG-PARAMETERS       PIC X(64).

       FD  PORTFOLIO-OUT
           RECORDING MODE IS F
           BLOCK CONTAINS 0 RECORDS.
       01  PORTFOLIO-RECORD.
           COPY PORTFLIO REPLACING ==:PREFIX:== BY ==PORT==.

       FD  TRANSACTION-OUT
           RECORDING MODE IS F
           BLOCK CONTAINS 0 RECORDS.
       01  TRANSACTION-RECORD.
           COPY TRNREC REPLACING ==:PREFIX:== BY ==TRAN==. *> Now includes CHANNEL-CODE

       * ... rest of the code unchanged, but in 2310-GEN-TRAN-DATA add: ...
       2310-GEN-TRAN-DATA.
           MOVE 'ATM ' TO TRAN-CHANNEL-CODE *> Assign test channel code
           *> Other fields as before

[File 8] TSTVAL00 src/programs/test/TSTVAL00.cbl

       IDENTIFICATION DIVISION.
       PROGRAM-ID. TSTVAL00.
       AUTHOR. CLAUDE.
       DATE-WRITTEN. 2024-04-09.
      *****************************************************************
      * Test Validation Suite                                         *
      *                                                               *
      * Validates test results and system behavior:                   *
      * - Test case execution                                        *
      * - Result validation                                          *
      * - Error condition testing                                    *
      * - Performance benchmarking                                   *
      *****************************************************************
       ENVIRONMENT DIVISION.
       CONFIGURATION SECTION.
       SPECIAL-NAMES.
           CONSOLE IS CONS.
           
       INPUT-OUTPUT SECTION.
       FILE-CONTROL.
           SELECT TEST-CASES ASSIGN TO TESTCASE
               ORGANIZATION IS SEQUENTIAL
               ACCESS MODE IS SEQUENTIAL
               FILE STATUS IS WS-TEST-STATUS.

           SELECT EXPECTED-RESULTS ASSIGN TO EXPECTED
               ORGANIZATION IS SEQUENTIAL
               ACCESS MODE IS SEQUENTIAL
               FILE STATUS IS WS-EXP-STATUS.

           SELECT ACTUAL-RESULTS ASSIGN TO ACTUAL
               ORGANIZATION IS SEQUENTIAL
               FILE STATUS IS WS-ACT-STATUS.

           SELECT TEST-REPORT ASSIGN TO TESTRPT
               ORGANIZATION IS SEQUENTIAL
               FILE STATUS IS WS-RPT-STATUS.

       DATA DIVISION.
       FILE SECTION.
           COPY TRNREC. *> Now includes CHANNEL-CODE

       * ... rest of the code unchanged, but in 2600-VALIDATE-RESULTS add: ...
       2600-VALIDATE-RESULTS.
           IF TRAN-CHANNEL-CODE = SPACES OR TRAN-CHANNEL-CODE = LOW-VALUES
               MOVE 'CHANNEL-CODE MISSING IN TEST' TO WS-ERROR-MESSAGE
               PERFORM 9999-ERROR-HANDLER
           END-IF
           *> Added validation for CHANNEL-CODE in test results

[File 9] RPTPOS.jcl src/jcl/batch/RPTPOS.jcl

//RPTPOS00 JOB (ACCT#),'DAILY POSITION RPT',
//             CLASS=A,MSGCLASS=X,MSGLEVEL=(1,1)
//*
//* Daily Position Report Generator
//*
//STEP01   EXEC PGM=RPTPOS00
//STEPLIB  DD   DSN=PROD.LOAD.LIBRARY,DISP=SHR
//POSMSTRE DD   DSN=PROD.POSITION.MASTER,DISP=SHR
//TRANHIST DD   DSN=PROD.TRANSACTION.HISTORY,DISP=SHR
//RPTFILE  DD   DSN=PROD.DAILY.POSITION.REPORT,
//             DISP=(NEW,CATLG,DELETE),
//             SPACE=(CYL,(10,5),RLSE),
//             DCB=(RECFM=FB,LRECL=136,BLKSIZE=0) //* LRECL increased by 4 for CHANNEL-CODE
//SYSOUT   DD   SYSOUT=*
//SYSUDUMP DD   SYSOUT=*
//SYSPRINT DD   SYSOUT=* 

[File 10] UTLVAL.jcl src/jcl/utility/UTLVAL.jcl

//UTLVAL00 JOB (ACCT#),'DATA VALIDATION',
//             CLASS=A,MSGCLASS=X,MSGLEVEL=(1,1)
//*
//* Data Validation Utility
//*
//STEP01   EXEC PGM=UTLVAL00
//STEPLIB  DD   DSN=PROD.LOAD.LIBRARY,DISP=SHR
//VALCTL   DD   DSN=PROD.VALIDATION.CONTROL,DISP=SHR
//POSMSTRE DD   DSN=PROD.POSITION.MASTER,DISP=SHR
//TRANHIST DD   DSN=PROD.TRANSACTION.HISTORY,DISP=SHR
//ERRRPT   DD   DSN=PROD.VALIDATION.REPORT,
//             DISP=(NEW,CATLG,DELETE),
//             SPACE=(CYL,(10,5),RLSE),
//             DCB=(RECFM=FB,LRECL=136,BLKSIZE=0) //* LRECL increased by 4 for CHANNEL-CODE
//SYSOUT   DD   SYSOUT=*
//SYSUDUMP DD   SYSOUT=*
//SYSPRINT DD   SYSOUT=* 

[File 11] TSTGEN.jcl src/jcl/test/TSTGEN.jcl

//TSTGEN00 JOB (ACCT#),'TEST DATA GEN',
//             CLASS=A,MSGCLASS=X,MSGLEVEL=(1,1)
//*
//* Test Data Generator
//*
//STEP01   EXEC PGM=TSTGEN00
//STEPLIB  DD   DSN=TEST.LOAD.LIBRARY,DISP=SHR
//TSTCFG   DD   DSN=TEST.CONFIG.FILE,DISP=SHR
//PORTOUT  DD   DSN=TEST.PORTFOLIO.DATA,
//             DISP=(NEW,CATLG,DELETE),
//             SPACE=(CYL,(100,50),RLSE),
//             DCB=(RECFM=FB,LRECL=104,BLKSIZE=0) //* LRECL increased by 4 for CHANNEL-CODE
//TRANOUT  DD   DSN=TEST.TRANSACTION.DATA,
//             DISP=(NEW,CATLG,DELETE),
//             SPACE=(CYL,(100,50),RLSE),
//             DCB=(RECFM=FB,LRECL=104,BLKSIZE=0) //* LRECL increased by 4 for CHANNEL-CODE
//RANDSEED DD   DSN=TEST.RANDOM.SEED,DISP=SHR
//SYSOUT   DD   SYSOUT=*
//SYSUDUMP DD   SYSOUT=*
//SYSPRINT DD   SYSOUT=* 

[File 12] TSTVAL.jcl src/jcl/test/TSTVAL.jcl

//TSTVAL00 JOB (ACCT#),'TEST VALIDATION',
//             CLASS=A,MSGCLASS=X,MSGLEVEL=(1,1)
//*
//* Test Validation Suite
//*
//STEP01   EXEC PGM=TSTVAL00
//STEPLIB  DD   DSN=TEST.LOAD.LIBRARY,DISP=SHR
//TESTCASE DD   DSN=TEST.CASE.FILE,DISP=SHR
//EXPECTED DD   DSN=TEST.EXPECTED.RESULTS,DISP=SHR
//ACTUAL   DD   DSN=TEST.ACTUAL.RESULTS,DISP=SHR
//TESTRPT  DD   DSN=TEST.VALIDATION.REPORT,
//             DISP=(NEW,CATLG,DELETE),
//             SPACE=(CYL,(10,5),RLSE),
//             DCB=(RECFM=FB,LRECL=136,BLKSIZE=0) //* LRECL increased by 4 for CHANNEL-CODE
//SYSOUT   DD   SYSOUT=*
//SYSUDUMP DD   SYSOUT=*
//SYSPRINT DD   SYSOUT=* 
