[File 1]

**outputs/CodeLocator.txt**

---
**Summary**:

User Story: Integrate real-time market price feed for dynamic portfolio valuation  
- 6 impacted components identified (**High impact only**)  
- High complexity change affecting real-time data ingestion, valuation engine, online display, error handling, audit, and historical data persistence across batch, DB2, and CICS programs.

---

**Ranked Impact List**:

| Program File Path                                | Impact | Nature  | Affected Paragraphs/Sections                | Dependency Path                                   |
|--------------------------------------------------|--------|---------|---------------------------------------------|---------------------------------------------------|
| `src/programs/batch/HISTLD00.cbl`                | High   | Direct  | 0000-MAIN, 2000-PROCESS-HIST, 2100-LOAD     | HISTLD00 (DB2 loader for historical price data)   |
| `src/programs/batch/RPTPOS00.cbl`                | High   | Direct  | 0000-MAIN, 2000-PROCESS-REPORT, 2110-FORMAT-POSITION | RPTPOS00 (Batch position valuation/reporting)     |
| `src/programs/batch/BCHCTL00.cbl`                | High   | Direct  | 0000-MAIN, 1000-PROCESS-INITIALIZE, 3000-UPDATE-STATUS | BCHCTL00 (Batch control for processing)           |
| `src/programs/common/AUDPROC.cbl`                | High   | Direct  | 0000-MAIN, 2000-PROCESS-AUDIT               | AUDPROC (Audit logging)                           |
| `src/copybook/common/AUDITLOG.cpy`               | High   | Direct  | AUDITLOG copybook                           | Used by audit and error handling                  |
| `src/copybook/common/POSREC.cpy`                 | High   | Direct  | POSREC copybook                             | Used in position valuation and reporting          |

---

**JSON Metadata**:
```json
{
  "impactAnalysis": {
    "userStory": "Integrate real-time market price feed for dynamic portfolio valuation",
    "impactedComponents": [
      {
        "programFilePath": "src/programs/batch/HISTLD00.cbl",
        "impactScore": 0.98,
        "impactLevel": "High",
        "impactType": "Direct",
        "affectedParagraphs": ["0000-MAIN", "2000-PROCESS-HIST", "2100-LOAD"],
        "dependencyPath": ["HISTLD00"],
        "rationale": "Loads historical price data into VSAM/DB2, directly impacted by new PRICEHIST requirements and real-time feed persistence."
      },
      {
        "programFilePath": "src/programs/batch/RPTPOS00.cbl",
        "impactScore": 0.97,
        "impactLevel": "High",
        "impactType": "Direct",
        "affectedParagraphs": ["0000-MAIN", "2000-PROCESS-REPORT", "2110-FORMAT-POSITION"],
        "dependencyPath": ["RPTPOS00"],
        "rationale": "Batch job recalculates and reports position values; must use real-time prices and update P&L per new requirements."
      },
      {
        "programFilePath": "src/programs/batch/BCHCTL00.cbl",
        "impactScore": 0.95,
        "impactLevel": "High",
        "impactType": "Direct",
        "affectedParagraphs": ["0000-MAIN", "1000-PROCESS-INITIALIZE", "3000-UPDATE-STATUS"],
        "dependencyPath": ["BCHCTL00"],
        "rationale": "Batch control program orchestrates valuation and update jobs, directly affected by new frequency and throughput requirements."
      },
      {
        "programFilePath": "src/programs/common/AUDPROC.cbl",
        "impactScore": 0.93,
        "impactLevel": "High",
        "impactType": "Direct",
        "affectedParagraphs": ["0000-MAIN", "2000-PROCESS-AUDIT"],
        "dependencyPath": ["AUDPROC"],
        "rationale": "Handles audit logging for errors and stale data, must be updated for new alarm and audit requirements."
      },
      {
        "programFilePath": "src/copybook/common/AUDITLOG.cpy",
        "impactScore": 0.92,
        "impactLevel": "High",
        "impactType": "Direct",
        "affectedParagraphs": ["AUDITLOG"],
        "dependencyPath": ["AUDPROC", "RPTAUD00"],
        "rationale": "Copybook for audit logging, required for new error and UDF-level alarm persistence."
      },
      {
        "programFilePath": "src/copybook/common/POSREC.cpy",
        "impactScore": 0.91,
        "impactLevel": "High",
        "impactType": "Direct",
        "affectedParagraphs": ["POSREC"],
        "dependencyPath": ["RPTPOS00", "UTLVAL00"],
        "rationale": "Position record structure, must be updated for real-time price and P&L recalculation."
      }
    ]
  }
}
```

---

**Visualization**:

```mermaid
graph TD
  subgraph Batch Jobs
    BCHCTL00["src/programs/batch/BCHCTL00.cbl (High)"]
    HISTLD00["src/programs/batch/HISTLD00.cbl (High)"]
    RPTPOS00["src/programs/batch/RPTPOS00.cbl (High)"]
  end
  subgraph Common
    AUDPROC["src/programs/common/AUDPROC.cbl (High)"]
    AUDITLOG["src/copybook/common/AUDITLOG.cpy (High)"]
    POSREC["src/copybook/common/POSREC.cpy (High)"]
  end

  BCHCTL00 --> RPTPOS00
  BCHCTL00 --> HISTLD00
  RPTPOS00 --> POSREC
  HISTLD00 --> POSREC
  AUDPROC --> AUDITLOG
  BCHCTL00 --> AUDPROC
```

---

**Notes on Reasoning**:

- `src/programs/batch/HISTLD00.cbl`: Handles loading of historical price data (PRICEHIST), directly required by the user story for backtesting and persistence.
- `src/programs/batch/RPTPOS00.cbl`: Responsible for recalculating and reporting position values, must be updated for real-time price updates and P&L calculations.
- `src/programs/batch/BCHCTL00.cbl`: Central batch control, orchestrates valuation and update jobs, must be updated for new real-time and throughput requirements.
- `src/programs/common/AUDPROC.cbl`: Processes audit logs, must be updated for new error handling and alarms.
- `src/copybook/common/AUDITLOG.cpy`: Used for audit logging, required for new UDF-level alarm and audit log persistence.
- `src/copybook/common/POSREC.cpy`: Position record structure, must be updated for new price and P&L fields.

All paths and files are strictly from the provided repository and are directly or critically impacted by the user story requirements. No extraneous files included.

----------

I need the actual GitHub repository URL from codebase-github-url.value to proceed. Please provide the codebase-github-url so I can retrieve the impacted COBOL and copybook files, apply the required modifications, and deliver the complete, updated source code as specified.
