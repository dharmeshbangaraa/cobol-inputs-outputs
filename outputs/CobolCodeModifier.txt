[File 1] TRANSACTION.CPY /copybooks/TRANSACTION.CPY

```cobol
       *----------------------------------------------------------------*
       * TRANSACTION.CPY - Transaction record structure                 *
       * Modified: Added CHANNEL-CODE field for channel identification  *
       *----------------------------------------------------------------*
           05  TRANSACTION-RECORD.
               10  TRANSACTION-ID         PIC X(12).
               10  TRANSACTION-DATE       PIC 9(8).
               10  TRANSACTION-TIME       PIC 9(6).
               10  ACCOUNT-NUMBER         PIC X(16).
               10  TRANSACTION-AMOUNT     PIC S9(9)V99 COMP-3.
               10  TRANSACTION-TYPE       PIC X(2).
               10  TRANSACTION-STATUS     PIC X(1).
               10  CHANNEL-CODE           PIC X(4).   *> Added field
               10  FILLER                 PIC X(15).
```

[File 2] TRNREC.CPY /copybooks/TRNREC.CPY

```cobol
       *----------------------------------------------------------------*
       * TRNREC.CPY - Transaction file record layout                    *
       * Modified: Added CHANNEL-CODE field for channel identification  *
       *----------------------------------------------------------------*
           01  TRNREC.
               05  TRN-ID                 PIC X(12).
               05  TRN-DATE               PIC 9(8).
               05  TRN-TIME               PIC 9(6).
               05  TRN-ACCT-NO            PIC X(16).
               05  TRN-AMOUNT             PIC S9(9)V99 COMP-3.
               05  TRN-TYPE               PIC X(2).
               05  TRN-STATUS             PIC X(1).
               05  TRN-CHANNEL-CODE       PIC X(4).   *> Added field
               05  FILLER                 PIC X(15).
```

[File 3] TSTGEN00 /programs/TSTGEN00.cbl

```cobol
       IDENTIFICATION DIVISION.
       PROGRAM-ID.    TSTGEN00.

       ENVIRONMENT DIVISION.
       INPUT-OUTPUT SECTION.
       FILE-CONTROL.
           SELECT TRANSACTION-FILE ASSIGN TO 'TRANSACT.DAT'
               ORGANIZATION IS SEQUENTIAL.

       DATA DIVISION.
       FILE SECTION.
       COPY 'TRNREC.CPY'.

       WORKING-STORAGE SECTION.
       77  WS-EOF                PIC X VALUE 'N'.
       77  WS-CHANNEL-CODE       PIC X(4).   *> Added for new field

       PROCEDURE DIVISION.
       MAIN-LOGIC.
           OPEN OUTPUT TRANSACTION-FILE
           PERFORM UNTIL WS-EOF = 'Y'
               *> Existing logic to populate transaction fields
               MOVE '0001' TO TRN-ID
               MOVE 20240601 TO TRN-DATE
               MOVE 123045 TO TRN-TIME
               MOVE '1234567890123456' TO TRN-ACCT-NO
               MOVE 10000 TO TRN-AMOUNT
               MOVE '01' TO TRN-TYPE
               MOVE 'A' TO TRN-STATUS
               MOVE WS-CHANNEL-CODE TO TRN-CHANNEL-CODE   *> Set new field
               MOVE SPACES TO FILLER OF TRNREC
               WRITE TRNREC
               *> Logic to set WS-EOF as appropriate
               PERFORM CHECK-EOF
           END-PERFORM
           CLOSE TRANSACTION-FILE
           STOP RUN.

       CHECK-EOF.
           *> Placeholder for EOF logic
           MOVE 'Y' TO WS-EOF.

       END PROGRAM TSTGEN00.
```

[File 4] RPTPOS00 /programs/RPTPOS00.cbl

```cobol
       IDENTIFICATION DIVISION.
       PROGRAM-ID.    RPTPOS00.

       ENVIRONMENT DIVISION.
       INPUT-OUTPUT SECTION.
       FILE-CONTROL.
           SELECT TRANSACTION-FILE ASSIGN TO 'TRANSACT.DAT'
               ORGANIZATION IS SEQUENTIAL.

       DATA DIVISION.
       FILE SECTION.
       COPY 'TRNREC.CPY'.

       WORKING-STORAGE SECTION.
       77  WS-CHANNEL-CODE       PIC X(4).   *> Added for new field

       PROCEDURE DIVISION.
       MAIN-LOGIC.
           OPEN INPUT TRANSACTION-FILE
           PERFORM UNTIL EOF-REACHED
               READ TRANSACTION-FILE INTO TRNREC
                   AT END
                       MOVE 'Y' TO EOF-REACHED
                   NOT AT END
                       MOVE TRN-CHANNEL-CODE TO WS-CHANNEL-CODE   *> Handle new field
                       *> Existing processing logic
               END-READ
           END-PERFORM
           CLOSE TRANSACTION-FILE
           STOP RUN.

       77  EOF-REACHED           PIC X VALUE 'N'.

       END PROGRAM RPTPOS00.
```

[File 5] UTLVAL00 /programs/UTLVAL00.cbl

```cobol
       IDENTIFICATION DIVISION.
       PROGRAM-ID.    UTLVAL00.

       ENVIRONMENT DIVISION.
       INPUT-OUTPUT SECTION.
       FILE-CONTROL.
           SELECT TRANSACTION-FILE ASSIGN TO 'TRANSACT.DAT'
               ORGANIZATION IS SEQUENTIAL.

       DATA DIVISION.
       FILE SECTION.
       COPY 'TRNREC.CPY'.

       WORKING-STORAGE SECTION.
       77  WS-CHANNEL-CODE       PIC X(4).   *> Added for new field

       PROCEDURE DIVISION.
       MAIN-LOGIC.
           OPEN INPUT TRANSACTION-FILE
           PERFORM UNTIL EOF-REACHED
               READ TRANSACTION-FILE INTO TRNREC
                   AT END
                       MOVE 'Y' TO EOF-REACHED
                   NOT AT END
                       MOVE TRN-CHANNEL-CODE TO WS-CHANNEL-CODE   *> Handle new field
                       *> Existing validation logic
               END-READ
           END-PERFORM
           CLOSE TRANSACTION-FILE
           STOP RUN.

       77  EOF-REACHED           PIC X VALUE 'N'.

       END PROGRAM UTLVAL00.
```

[File 6] TSTVAL00 /programs/TSTVAL00.cbl

```cobol
       IDENTIFICATION DIVISION.
       PROGRAM-ID.    TSTVAL00.

       ENVIRONMENT DIVISION.
       INPUT-OUTPUT SECTION.
       FILE-CONTROL.
           SELECT TRANSACTION-FILE ASSIGN TO 'TRANSACT.DAT'
               ORGANIZATION IS SEQUENTIAL.

       DATA DIVISION.
       FILE SECTION.
       COPY 'TRNREC.CPY'.

       WORKING-STORAGE SECTION.
       77  WS-CHANNEL-CODE       PIC X(4).   *> Added for new field

       PROCEDURE DIVISION.
       MAIN-LOGIC.
           OPEN INPUT TRANSACTION-FILE
           PERFORM UNTIL EOF-REACHED
               READ TRANSACTION-FILE INTO TRNREC
                   AT END
                       MOVE 'Y' TO EOF-REACHED
                   NOT AT END
                       MOVE TRN-CHANNEL-CODE TO WS-CHANNEL-CODE   *> Handle new field
                       *> Existing validation logic
               END-READ
           END-PERFORM
           CLOSE TRANSACTION-FILE
           STOP RUN.

       77  EOF-REACHED           PIC X VALUE 'N'.

       END PROGRAM TSTVAL00.
```

[File 7] POSREC.CPY /copybooks/POSREC.CPY

```cobol
       *----------------------------------------------------------------*
       * POSREC.CPY - POS transaction record structure                  *
       * Modified: Added CHANNEL-CODE field for channel identification  *
       *----------------------------------------------------------------*
           01  POS-TRANSACTION-RECORD.
               05  POS-TRANSACTION-ID      PIC X(12).
               05  POS-TRANSACTION-DATE    PIC 9(8).
               05  POS-TRANSACTION-TIME    PIC 9(6).
               05  POS-ACCOUNT-NUMBER      PIC X(16).
               05  POS-TRANSACTION-AMOUNT  PIC S9(9)V99 COMP-3.
               05  POS-TRANSACTION-TYPE    PIC X(2).
               05  POS-TRANSACTION-STATUS  PIC X(1).
               05  POS-CHANNEL-CODE        PIC X(4).   *> Added field
               05  FILLER                  PIC X(15).
```

[File 8] RPTAUD00 /programs/RPTAUD00.cbl

```cobol
       IDENTIFICATION DIVISION.
       PROGRAM-ID.    RPTAUD00.

       ENVIRONMENT DIVISION.
       INPUT-OUTPUT SECTION.
       FILE-CONTROL.
           SELECT TRANSACTION-FILE ASSIGN TO 'TRANSACT.DAT'
               ORGANIZATION IS SEQUENTIAL.

       DATA DIVISION.
       FILE SECTION.
       COPY 'TRNREC.CPY'.

       WORKING-STORAGE SECTION.
       77  WS-CHANNEL-CODE       PIC X(4).   *> Added for new field

       PROCEDURE DIVISION.
       MAIN-LOGIC.
           OPEN INPUT TRANSACTION-FILE
           PERFORM UNTIL EOF-REACHED
               READ TRANSACTION-FILE INTO TRNREC
                   AT END
                       MOVE 'Y' TO EOF-REACHED
                   NOT AT END
                       MOVE TRN-CHANNEL-CODE TO WS-CHANNEL-CODE   *> Handle new field
                       *> Existing audit/report logic
               END-READ
           END-PERFORM
           CLOSE TRANSACTION-FILE
           STOP RUN.

       77  EOF-REACHED           PIC X VALUE 'N'.

       END PROGRAM RPTAUD00.
```
